<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
        
<hibernate-mapping>

    <class name="edu.emory.library.tas.attrGroups.Attribute" table="attributes">
    	<cache usage="read-write" />
        <id name="id" column="iid">
        	<generator class="native"/>
        </id>                       
		<property name="name" column="attr_name"/>		
		<property name="userLabel" column="user_label"/>
		<many-to-one name="objectType" column="r_object_type_id" 
		             class="edu.emory.library.tas.attrGroups.ObjectType" 
					 unique="true" lazy="false"/>
	</class>
	
	<class name="edu.emory.library.tas.attrGroups.Group" table="groups">
		<cache usage="read-write" />
        <id name="id" column="iid">
        	<generator class="native"/>
        </id>                       
		<property name="name" column="group_name"/>
		<set name="attributes" table="group_attributes" lazy="false">
        	<key column="r_group_id"/>
        	<many-to-many column="r_attribute_id" class="edu.emory.library.tas.attrGroups.Attribute"/>
    	</set>
	</class>
		
	<class name="edu.emory.library.tas.attrGroups.GroupSet" table="groupsets">
		<cache usage="read-write" />
        <id name="id" column="iid">
        	<generator class="native"/>
        </id>                       
		<property name="name"/>		
		<set name="groups" table="groupset_groups" lazy="false">
        	<key column="r_groupset_id"/>
        	<many-to-many column="r_group_id" class="edu.emory.library.tas.attrGroups.Group"/>
    	</set>
		<set name="attributes" table="groupset_attributes" lazy="false">
        	<key column="r_groupset_id"/>
        	<many-to-many column="r_attribute_id" class="edu.emory.library.tas.attrGroups.Attribute"/>
    	</set>
	</class>
	
	<class name="edu.emory.library.tas.attrGroups.ObjectType" table="object_types">
		<cache usage="read-write" />
        <id name="id" column="iid">
        	<generator class="native"/>
        </id>                       
		<property name="typeName" column="name"/>
	</class>
	
</hibernate-mapping>